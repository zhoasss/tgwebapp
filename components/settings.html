<!DOCTYPE html>
<html lang="ru">
<head>
  <!-- –£–ë–†–ê–ù–´ –õ–ò–®–ù–ò–ï –ü–†–û–ë–ï–õ–´ –í URL! -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</title>
  <link rel="stylesheet" href="../main.css">
</head>
<body>
  <main>
    <div class="view-content">
      <div class="settings-menu">
        <div class="settings-item">
          <h3>–ü—Ä–æ—Ñ–∏–ª—å</h3>
          <p>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–∏—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</p>
        </div>
        <div class="settings-item">
          <h3>–ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã</h3>
          <p>–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</p>
        </div>
        <div class="settings-item">
          <h3>–£—Å–ª—É–≥–∏</h3>
          <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º —É—Å–ª—É–≥</p>
        </div>
        <div class="settings-item">
          <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
          <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ –∑–∞–ø–∏—Å—è–º–∏</p>
        </div>
      </div>
    </div>
  </main>

  <!-- –§—É—Ç–µ—Ä –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —Å –ø–æ–º–æ—â—å—é JavaScript –∏–∑ index.html -->
  <div id="footer-container"></div>

  <script>
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ—É—Ç–µ—Ä –∏–∑ index.html
    fetch('../index.html')
      .then(response => response.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');
        const footer = doc.querySelector('footer');
        
        if (footer) {
          document.getElementById('footer-container').innerHTML = footer.outerHTML;
          
          const recordsBtn = document.querySelector('[data-tab="records"]');
          const settingsBtn = document.querySelector('[data-tab="settings"]');
          
          if (recordsBtn) {
            recordsBtn.classList.remove('active');
            recordsBtn.onclick = () => document.location = '../index.html';
          }
          
          if (settingsBtn) {
            settingsBtn.classList.add('active');
            settingsBtn.onclick = null;
          }
        }
      })
      .catch(err => console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ—É—Ç–µ—Ä:', err));
  </script>

  <!-- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∏ –Ω–∞–¥—ë–∂–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Ç–µ–º—ã –∏ Telegram WebApp -->
  <script>
  document.addEventListener('DOMContentLoaded', function () {
    function applyTheme() {
      let isDark = false;

      if (window.Telegram?.WebApp) {
        isDark = Telegram.WebApp.colorScheme === 'dark';
        // üî• –£–î–ê–õ–ò–õ–ò setHeaderColor –∏ setTitleTextColor!
        // –ü—É—Å—Ç—å Telegram —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ö–µ–¥–µ—Ä–æ–º ‚Äî –æ–Ω —Å–¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ.
      } else if (window.matchMedia) {
        isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      }

      // –û–±–Ω–æ–≤–ª—è–µ–º –¢–û–õ–¨–ö–û CSS-–∫–ª–∞—Å—Å
      document.documentElement.className = isDark ? 'theme-dark' : '';
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
    if (window.Telegram?.WebApp) {
      const tg = Telegram.WebApp;
      tg.ready();
      tg.expand();
      tg.disableVerticalSwipes();
      // –ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º setBackgroundColor ‚Äî –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
    }

    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–º—É –°–†–ê–ó–£
    applyTheme();

    // –°–ª—É—à–∞–µ–º —Å–º–µ–Ω—É —Ç–µ–º—ã ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
    if (window.Telegram?.WebApp) {
      Telegram.WebApp.onEvent('themeChanged', applyTheme);
    } else if (window.matchMedia) {
      window.matchMedia('(prefers-color-scheme: dark)')
        .addEventListener('change', applyTheme);
    }

    // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –≤ Mini App
    if (window.Telegram?.WebApp) {
      const preventDefault = (e) => e.preventDefault();
      document.addEventListener('touchmove', preventDefault, { passive: false });
      document.addEventListener('wheel', preventDefault, { passive: false });
      document.addEventListener('gesturestart', preventDefault);
    }
  });
</script>
</body>
</html>